{"version":3,"sources":["helpers/networkFee.ts","hooks/useBalance.ts","hooks/useNetworkFee.ts","hooks/useTxTracker.ts","assets/SVG/tx-black.svg","assets/SVG/tx-hidden.svg","assets/SVG/tx-white.svg","components/TxManager/TxManager.style.ts","../node_modules/react-feather/dist/icons/chevron-up.js","../node_modules/react-feather/dist/icons/chevron-down.js","../node_modules/@ant-design/icons-svg/es/asn/RollbackOutlined.js","../node_modules/@ant-design/icons/es/icons/RollbackOutlined.js","components/TxManager/TxMonitor/TxMonitor.style.ts","components/TxManager/TxMonitor/utils.ts","components/TxManager/TxMonitor/TxMonitor.tsx","components/TxManager/TxManager.tsx","hooks/useTxManager.ts","views/Swap/PanelView/PanelView.style.ts","views/Swap/PanelView/PanelView.tsx","views/Swap/Swap.style.ts","views/Swap/utils.ts","views/Swap/Swap.tsx","hooks/useMimir.ts","hooks/useApprove.ts","helpers/error.ts","views/Swap/index.ts"],"names":["multiplier","average","fast","fastest","getGasRateByChain","inboundData","chain","chainInboundData","find","data","Number","gas_rate","getGasRateByFeeOption","feeOptionType","useBalance","dispatch","useDispatch","useSelector","state","app","wallet","midgard","reloadBalanceByChain","useCallback","walletActions","reloadAllBalance","getMaxBalance","asset","L1Chain","Amount","fromAssetAmount","gasRate","inboundFee","NetworkFee","getNetworkFeeByAsset","direction","balance","getAssetBalance","amount","maxSpendableAmount","isGasAsset","sub","mul","gt","decimal","useNetworkFee","inputAsset","outputAsset","useApp","useMidgard","pools","useMemo","outboundFee","totalFee","outboundFeeInSendAsset","AssetAmount","totalPriceIn","price","eq","add","totalFeeInUSD","Asset","USD","useTxTracker","addNewTxTracker","updateTxTracker","clearTxTrackers","processSubmittedTx","submitTransaction","type","submitTx","uuid","uuidv4","status","TxTrackerStatus","Submitting","action","refunded","pollTransaction","txTracker","Pending","setTxFailed","Failed","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","id","className","d","SvgTxBlack","_ref","svgRef","title","titleId","props","xmlns","viewBox","ref","ForwardRef","SvgTxHidden","SvgTxWhite","Container","styled","div","StyledButton","CoreButton","Content","Button","palette","EmptyContent","ClearRow","ChevronUp","forwardRef","_ref$color","color","_ref$size","size","rest","React","createElement","width","height","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","points","propTypes","PropTypes","string","oneOfType","number","displayName","ChevronDown","RollbackOutlined","AntdIcon","icon","RollbackOutlinedSvg","collapsed","Header","HeaderRight","HeaderBtn","ProgressIconWrapper","TxInformation","border","ExternalLinkWrapper","ExternalButtonLink","TxTitle","Label","isSwapType","TxTrackerType","Swap","Mint","Redeem","getSwapInTxUrl","txID","inAssets","fromAssetString","multichain","getExplorerTxUrl","getApproveTxUrl","getSwapOutTxUrl","out","outTx","coins","getSwapOutTxData","a","setDecimal","fromMidgard","ActionTypeEnum","toSignificant","name","Refund","getAddTxUrl","in","inTx","inData","toString","addTx","isRUNE","runeTxID","assetTxID","getWithdrawSubmitTxUrl","withdrawChain","getWithdrawTxUrl","ProgressIcon","CheckCircleOutlined","LoadingOutlined","CloseCircleOutlined","TxMonitor","useState","setCollapsed","outTxData","setOutTxData","useEffect","getSwapTxData","txOutData","Success","toggle","Approve","approveAsset","ticker","outAssets","sendAsset","sendAmount","receiveAsset","receiveAmount","sendAssetName","receiveAssetName","info","AddLiquidity","poolAsset","sendAsset1","sendAmount1","sendAsset2","sendAmount2","Withdraw","withdrawAsset1","withdrawAmount1","withdrawAsset2","withdrawAmount2","Switch","getTxTitle","totalProgressStatus","getTotalProgressStatus","txColor","getTxColor","renderTxContent","sendTitle","synth","getSwapSendTitle","receiveTitle","getSwapReceiveTitle","link","map","assetObj","onClick","TxManager","themeType","pollTx","pollUpgradeTx","pollApprove","txTrackers","txCollapsed","setTxCollapsed","pendingTransactions","filter","tracker","useInterval","forEach","useTxManager","toggleTx","hasTxHistory","renderAllTxTrackers","handleClearHistory","round","ThemeType","DARK","Panel","theme","transparentize","background","ContentPanel","media","sm","HeaderContent","HeaderMenu","PanelView","selected","meta","children","refreshPage","useGlobalState","isRefreshVisible","useMedia","Helmet","content","Refresh","onRefresh","SettingsOverlay","ToolContainer","SwitchPair","ConfirmButtonContainer","ConfirmModalContent","RecipientAddrWrapper","SwapInfo","ApproveBtn","FancyButton","getSwapPair","pair","split","input","output","decodeFromURL","getSwapTrackerType","swap","synthType","SynthType","MINT","REDEEM","FromCard","ToCard","StyledSliderWrapper","SwapPage","history","useHistory","allPools","poolLoading","slippageTolerance","affiliates","haltedChains","networkData","mimir","maxLiquidityRuneMimir","MAXIMUMLIQUIDITYRUNE","haltETHTrading","HALTETHTRADING","haltBTCTrading","HALTBTCTRADING","haltLTCTrading","HALTLTCTRADING","haltTrading","HALTTRADING","haltTHORChain","HALTTHORCHAIN","haltDOGETrading","haltBCHTrading","HALTBCHTRADING","haltBNBTrading","HALTBNBTRADING","haltETHChain","HALTETHCHAIN","haltBTCChain","HALTBTCCHAIN","haltLTCChain","HALTDOGECHAIN","haltDOGEChain","haltBCHChain","HALTBCHCHAIN","haltBNBChain","HALTBNBCHAIN","THOR","ETH","BTC","LTC","BCH","BNB","DOGE","TERRA","maxLiquidityRune","totalPooledRune","isFundsCapReached","lte","capPercent","poolLimit","toFixed","useMimir","useWallet","isWalletLoading","setIsConnectWalletModalOpen","isConnected","hasConnectedWallet","handleClickWalletBtn","filteredAffiliates","affiliate","validateAddress","Chain","THORChain","address","hasWallet","approveStatus","isApproved","setApproved","isWalletConnected","isAssetApproved","approved","checkApproved","assetApproveStatus","useApprove","isTradingHalted","inTradeInboundData","outTradeInboundData","inTradeMimirStatus","outTradeMimirStatus","halted","walletConnected","hasWalletConnected","inputAssets","detail","poolAssets","assets","pool","push","RUNE","synthAssets","synthAsset","symbol","outputAssets","IS_SYNTH_ACTIVE","getInputAssets","inputAmount","setInputAmount","percent","setPercent","chainRecipient","setChainRecipient","recipient","setRecipient","visibleConfirmModal","setVisibleConfirmModal","visibleApproveModal","setVisibleApproveModal","affiliateFee","isLTC","isBTC","AmountType","ASSET_AMOUNT","totalFeePlusAffiliate","isValidAddress","inputAssetAmount","inboundFeeInInputAsset","outboundFeeInOutputAsset","slip","fee","error","console","log","outputAmount","outputAmountAfterFee","slipPercent","Percent","minReceive","minOutputAmount","inputAssetPriceInUSD","Price","baseAsset","priceAmount","outputAssetPriceInUSD","getWalletAddressByChain","maxInputBalance","inputAssetBalance","handleSelectInputAsset","getSwapRoute","handleSelectOutputAsset","handleSwitchPair","handleChangeInputAmount","assetAmount","toNumber","handleChangePercent","p","newAmount","handleSelectMax","handleConfirm","trackerType","trackId","txHash","msg","description","includes","Notification","message","duration","handleCancel","handleConfirmApprove","handleSwap","hasInSufficientFee","handleApprove","isValidSwap","IS_TESTNET","valid","isValid","isValidSlip","isSlipValid","btnLabel","renderConfirmModalContent","toUpperCase","truncateAddress","tooltip","SLIP_TOOLTIP_LABEL","MIN_RECEIVED_LABEL","toCurrencyFormat","TX_FEE_TOOLTIP_LABEL","renderApproveModal","onChange","onSelect","onMax","usdPrice","undefined","value","withLabel","SwapOutlined","inputProps","disabled","chainAddr","onAddressChange","loading","visible","onOk","onCancel","SwapView","useParams","swapPair","setSwapPair","swapPairData","getPair"],"mappings":"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","file":"static/js/3.e54f0e96.chunk.js","sourcesContent":["import { FeeOption } from '@xchainjs/xchain-client'\nimport { Chain } from '@xchainjs/xchain-util'\nimport { InboundAddressesItem } from 'midgard-sdk'\n\nconst multiplier: Record<FeeOption, number> = {\n  average: 0.67,\n  fast: 1,\n  fastest: 1.5,\n}\n\n// Reference issue: https://github.com/thorchain/asgardex-electron/issues/1381\nexport const getGasRateByChain = ({\n  inboundData,\n  chain,\n}: {\n  inboundData: InboundAddressesItem[]\n  chain: Chain\n}): number => {\n  const chainInboundData = inboundData.find((data) => data.chain === chain)\n\n  return Number(chainInboundData?.gas_rate ?? 0)\n}\n\nexport const getGasRateByFeeOption = ({\n  inboundData,\n  chain,\n  feeOptionType,\n}: {\n  inboundData: InboundAddressesItem[]\n  chain: Chain\n  feeOptionType: FeeOption\n}) => {\n  return getGasRateByChain({ inboundData, chain }) * multiplier[feeOptionType]\n}\n","import { useCallback } from 'react'\n\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport { Asset, Amount, getAssetBalance, NetworkFee } from 'multichain-sdk'\n\nimport { SupportedChain } from 'multichain-sdk/clients/types'\n\nimport { RootState } from 'redux/store'\nimport * as walletActions from 'redux/wallet/actions'\n\nimport { getGasRateByFeeOption } from 'helpers/networkFee'\n\nexport const useBalance = () => {\n  const dispatch = useDispatch()\n  const { feeOptionType } = useSelector((state: RootState) => state.app)\n  const { wallet } = useSelector((state: RootState) => state.wallet)\n  const { inboundData } = useSelector((state: RootState) => state.midgard)\n\n  const reloadBalanceByChain = useCallback(\n    (chain: SupportedChain) => {\n      dispatch(walletActions.getWalletByChain(chain))\n    },\n    [dispatch],\n  )\n\n  const reloadAllBalance = useCallback(() => {\n    dispatch(walletActions.loadAllWallets())\n  }, [dispatch])\n\n  const getMaxBalance = useCallback(\n    (asset: Asset): Amount => {\n      if (!wallet?.[asset.L1Chain as SupportedChain]) {\n        // allow max amount for emulation if wallet is not connected\n        return Amount.fromAssetAmount(0, 8)\n      }\n\n      // calculate inbound fee\n      const gasRate = getGasRateByFeeOption({\n        inboundData,\n        chain: asset.L1Chain,\n        feeOptionType,\n      })\n      const inboundFee = NetworkFee.getNetworkFeeByAsset({\n        asset,\n        gasRate,\n        direction: 'inbound',\n      })\n\n      const balance = getAssetBalance(asset, wallet).amount\n\n      /**\n       * if asset is used for gas, subtract the inbound gas fee from input amount\n       * else allow full amount\n       * Calc: max spendable amount = balance amount - 2 x gas fee(if send asset equals to gas asset)\n       */\n\n      const maxSpendableAmount = asset.isGasAsset()\n        ? balance.sub(inboundFee.mul(1.5).amount)\n        : balance\n\n      if (maxSpendableAmount.gt(0)) {\n        return maxSpendableAmount\n      }\n\n      return Amount.fromAssetAmount(0, asset.decimal)\n    },\n    [wallet, feeOptionType, inboundData],\n  )\n\n  return {\n    getMaxBalance,\n    reloadAllBalance,\n    reloadBalanceByChain,\n    wallet,\n  }\n}\n","import { useMemo } from 'react'\n\nimport { Asset, Amount, AssetAmount, NetworkFee, Pool } from 'multichain-sdk'\n\nimport { useApp } from 'redux/app/hooks'\nimport { useMidgard } from 'redux/midgard/hooks'\n\nimport { getGasRateByChain, getGasRateByFeeOption } from 'helpers/networkFee'\n\nexport const useNetworkFee = ({\n  inputAsset,\n  outputAsset,\n}: {\n  inputAsset: Asset\n  outputAsset?: Asset\n}) => {\n  const { feeOptionType } = useApp()\n  const { inboundData, pools } = useMidgard()\n\n  const inboundFee = useMemo(() => {\n    // get inbound gasRate with fee option\n\n    const gasRate = getGasRateByFeeOption({\n      inboundData,\n      chain: inputAsset.L1Chain,\n      feeOptionType,\n    })\n    const networkFee = NetworkFee.getNetworkFeeByAsset({\n      asset: inputAsset,\n      gasRate,\n      direction: 'inbound',\n    })\n\n    return networkFee\n  }, [inputAsset, inboundData, feeOptionType])\n\n  const outboundFee = useMemo(() => {\n    if (!outputAsset) return null\n\n    const gasRate = getGasRateByChain({\n      inboundData,\n      chain: outputAsset.L1Chain,\n    })\n    const networkFee = NetworkFee.getNetworkFeeByAsset({\n      asset: outputAsset,\n      gasRate,\n      direction: 'outbound',\n    })\n\n    return networkFee\n  }, [outputAsset, inboundData])\n\n  const totalFee = useMemo(() => {\n    if (!outboundFee) return inboundFee\n\n    const outboundFeeInSendAsset = new AssetAmount(\n      inputAsset,\n      Amount.fromAssetAmount(\n        outboundFee.totalPriceIn(inputAsset, pools).price,\n        inputAsset.decimal,\n      ),\n    )\n\n    if (inboundFee.asset.eq(inputAsset)) {\n      return inboundFee.add(outboundFeeInSendAsset)\n    }\n\n    const inboundFeeInSendAsset = new AssetAmount(\n      inputAsset,\n      Amount.fromAssetAmount(\n        inboundFee.totalPriceIn(inputAsset, pools).price,\n        inputAsset.decimal,\n      ),\n    )\n    return inboundFeeInSendAsset.add(outboundFeeInSendAsset)\n  }, [inputAsset, inboundFee, outboundFee, pools])\n\n  const totalFeeInUSD = useMemo(\n    () => totalFee.totalPriceIn(Asset.USD(), pools),\n    [totalFee, pools],\n  )\n\n  return {\n    totalFee,\n    inboundFee,\n    outboundFee,\n    totalFeeInUSD,\n  }\n}\n\nexport const getSumAmountInUSD = (\n  assetAmount1: AssetAmount | null,\n  assetAmount2: AssetAmount | null,\n  pools: Pool[],\n) => {\n  const assetAmount1InUSD = assetAmount1?.totalPriceIn(Asset.USD(), pools)\n  const assetAmount2InUSD = assetAmount2?.totalPriceIn(Asset.USD(), pools)\n\n  if (assetAmount1 === null && assetAmount2InUSD)\n    return assetAmount2InUSD.toCurrencyFormat()\n  if (assetAmount2 === null && assetAmount1InUSD)\n    return assetAmount1InUSD.toCurrencyFormat()\n\n  if (assetAmount1InUSD && assetAmount2InUSD) {\n    const sum = assetAmount1InUSD.raw().plus(assetAmount2InUSD.raw())\n\n    return Amount.fromAssetAmount(sum, 8).toFixed(2)\n  }\n\n  return Amount.fromAssetAmount(0, 8).toFixed()\n}\n","import { useCallback } from 'react'\n\nimport { v4 as uuidv4 } from 'uuid'\n\nimport { useMidgard } from 'redux/midgard/hooks'\nimport { TxTrackerStatus, SubmitTx, TxTrackerType } from 'redux/midgard/types'\n\n/**\n * 1. send transaction and get txHash\n * 2. poll midgard action API and get \"in\" tx with the same txHash\n * 3. check action status (success, pending)\n * 4. check action type and match with send tx type\n *    (if action type is not \"refund\", action type should be matched to the send type)\n */\n\nexport const useTxTracker = () => {\n  const {\n    addNewTxTracker,\n    updateTxTracker,\n    clearTxTrackers,\n    processSubmittedTx,\n  } = useMidgard()\n\n  // confirm and submit a transaction\n  const submitTransaction = useCallback(\n    ({\n      type,\n      submitTx,\n    }: {\n      type: TxTrackerType\n      submitTx: SubmitTx\n    }): string => {\n      const uuid = uuidv4()\n\n      addNewTxTracker({\n        uuid,\n        type,\n        status: TxTrackerStatus.Submitting,\n        submitTx,\n        action: null,\n        refunded: null,\n      })\n\n      return uuid\n    },\n    [addNewTxTracker],\n  )\n\n  // start polling a transaction\n  const pollTransaction = useCallback(\n    ({\n      uuid,\n      submitTx,\n      type,\n    }: {\n      uuid: string\n      submitTx: SubmitTx\n      type: TxTrackerType\n    }) => {\n      updateTxTracker({\n        uuid,\n        txTracker: {\n          status: TxTrackerStatus.Pending,\n          submitTx,\n        },\n      })\n      processSubmittedTx({ submitTx, type })\n    },\n    [updateTxTracker, processSubmittedTx],\n  )\n\n  // start polling a transaction\n  const setTxFailed = useCallback(\n    (uuid: string) => {\n      updateTxTracker({\n        uuid,\n        txTracker: {\n          status: TxTrackerStatus.Failed,\n        },\n      })\n    },\n    [updateTxTracker],\n  )\n\n  return {\n    submitTransaction,\n    pollTransaction,\n    clearTxTrackers,\n    setTxFailed,\n  }\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:#231f20;}\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M40.29,0A40.29,40.29,0,1,0,80.57,40.29,40.29,40.29,0,0,0,40.29,0Zm0,73.65A33.37,33.37,0,1,1,73.65,40.29,33.37,33.37,0,0,1,40.29,73.65Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M32.92,52.54a7.66,7.66,0,0,1-3.94-1,7.27,7.27,0,0,1-2.66-2.68,7.41,7.41,0,0,1-1-3.74V32.94H18.71V28H37.85v4.9H31.24v12.7a1.93,1.93,0,0,0,.58,1.4,1.83,1.83,0,0,0,1.38.6h1.92v4.9Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M39.88,52.54,46.29,42a9.3,9.3,0,0,1-2.94-1.87,8.19,8.19,0,0,1-1.91-2.82,9.7,9.7,0,0,1-.68-3.71V28h5.88V34a3.91,3.91,0,0,0,.37,1.7,3.23,3.23,0,0,0,1.05,1.29,3.42,3.42,0,0,0,1.59.65L55.32,28h6.54l-6.4,10.32a9.29,9.29,0,0,1,3.36,1.75A7.84,7.84,0,0,1,61,43a9.44,9.44,0,0,1,.77,3.91v5.6H55.91V46.66a3.85,3.85,0,0,0-1-2.68,3.53,3.53,0,0,0-2.73-1.14l-5.77,9.7Z\"\n})));\n\nfunction SvgTxBlack(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 80.57 80.57\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTxBlack);\nexport default __webpack_public_path__ + \"static/media/tx-black.a6c035f9.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:#6d6e71;}\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M40.29,0A40.29,40.29,0,1,0,80.57,40.29,40.29,40.29,0,0,0,40.29,0Zm0,73.65A33.37,33.37,0,1,1,73.65,40.29,33.37,33.37,0,0,1,40.29,73.65Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M32.92,52.54a7.66,7.66,0,0,1-3.94-1,7.27,7.27,0,0,1-2.66-2.68,7.41,7.41,0,0,1-1-3.74V32.94H18.71V28H37.85v4.9H31.24v12.7a1.93,1.93,0,0,0,.58,1.4,1.83,1.83,0,0,0,1.38.6h1.92v4.9Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M39.88,52.54,46.29,42a9.3,9.3,0,0,1-2.94-1.87,8.19,8.19,0,0,1-1.91-2.82,9.7,9.7,0,0,1-.68-3.71V28h5.88V34a3.91,3.91,0,0,0,.37,1.7,3.23,3.23,0,0,0,1.05,1.29,3.42,3.42,0,0,0,1.59.65L55.32,28h6.54l-6.4,10.32a9.29,9.29,0,0,1,3.36,1.75A7.84,7.84,0,0,1,61,43a9.44,9.44,0,0,1,.77,3.91v5.6H55.91V46.66a3.85,3.85,0,0,0-1-2.68,3.53,3.53,0,0,0-2.73-1.14l-5.77,9.7Z\"\n})));\n\nfunction SvgTxHidden(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 80.57 80.57\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTxHidden);\nexport default __webpack_public_path__ + \"static/media/tx-hidden.a6499207.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:#fff;}\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_2\",\n  \"data-name\": \"Layer 2\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Layer_1-2\",\n  \"data-name\": \"Layer 1\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M40.29,0A40.29,40.29,0,1,0,80.57,40.29,40.29,40.29,0,0,0,40.29,0Zm0,73.65A33.37,33.37,0,1,1,73.65,40.29,33.37,33.37,0,0,1,40.29,73.65Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M32.92,52.54a7.66,7.66,0,0,1-3.94-1,7.27,7.27,0,0,1-2.66-2.68,7.41,7.41,0,0,1-1-3.74V32.94H18.71V28H37.85v4.9H31.24v12.7a1.93,1.93,0,0,0,.58,1.4,1.83,1.83,0,0,0,1.38.6h1.92v4.9Z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M39.88,52.54,46.29,42a9.3,9.3,0,0,1-2.94-1.87,8.19,8.19,0,0,1-1.91-2.82,9.7,9.7,0,0,1-.68-3.71V28h5.88V34a3.91,3.91,0,0,0,.37,1.7,3.23,3.23,0,0,0,1.05,1.29,3.42,3.42,0,0,0,1.59.65L55.32,28h6.54l-6.4,10.32a9.29,9.29,0,0,1,3.36,1.75A7.84,7.84,0,0,1,61,43a9.44,9.44,0,0,1,.77,3.91v5.6H55.91V46.66a3.85,3.85,0,0,0-1-2.68,3.53,3.53,0,0,0-2.73-1.14l-5.77,9.7Z\"\n})));\n\nfunction SvgTxWhite(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 80.57 80.57\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgTxWhite);\nexport default __webpack_public_path__ + \"static/media/tx-white.a7a28278.svg\";\nexport { ForwardRef as ReactComponent };","import styled from 'styled-components/macro'\nimport { palette } from 'styled-theme'\n\nimport { Button, CoreButton } from '../UIElements'\n\nexport const Container = styled.div<{ collapsed: boolean }>`\n  background: transparent;\n  //margin-left: min(1vw, 15px);\n  //margin-right: min(1vw, 15px);\n  margin-bottom: 0px;\n  justify-content: left;\n`\nexport const StyledButton = styled(CoreButton)`\n  min-width: 30px !important;\n  padding: 0;\n  margin-left: 0;\n\n  svg {\n    width: 20px;\n    height: 20px;\n    stroke: none;\n    /* fill: ${palette('text', 0)}; */\n    /* outline: none;\n    fill: ${palette('background', 1)}; */\n  }\n`\nexport const Options = styled(Button)`\n  width: 1px;\n  padding: 0;\n  margin-top: 1px;\n  text-align: left;\n  border: white;\n`\n\nexport const Header = styled.div`\n  display: flex;\n  width: 56px;\n  height: 32px;\n\n  button {\n    padding-top: 2px;\n\n    width: 100%;\n    height: 100%;\n  }\n\n  z-index: 200;\n`\n\nexport const Content = styled.div`\n  display: flex;\n  background: ${palette('background', 1)};\n  flex-direction: column;\n\n  position: absolute;\n  left: 20px;\n  top: 90px;\n`\n\nexport const EmptyContent = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  position: absolute;\n  left: 20px;\n  top: 90px;\n\n  padding: 4px 8px;\n\n  border: 1px solid ${palette('gray', 0)};\n  border-radius: 4px;\n`\n\nexport const ClearRow = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background: ${palette('background', 8)};\n\n  height: 30px;\n\n  &:hover {\n    cursor: pointer;\n  }\n`\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ChevronUp = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"18 15 12 9 6 15\"\n  }));\n});\nChevronUp.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nChevronUp.displayName = 'ChevronUp';\nexport default ChevronUp;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React, { forwardRef } from 'react';\nimport PropTypes from 'prop-types';\nvar ChevronDown = forwardRef(function (_ref, ref) {\n  var _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'currentColor' : _ref$color,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 24 : _ref$size,\n      rest = _objectWithoutProperties(_ref, [\"color\", \"size\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    ref: ref,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: color,\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  }, rest), /*#__PURE__*/React.createElement(\"polyline\", {\n    points: \"6 9 12 15 18 9\"\n  }));\n});\nChevronDown.propTypes = {\n  color: PropTypes.string,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number])\n};\nChevronDown.displayName = 'ChevronDown';\nexport default ChevronDown;","// This icon file is generated automatically.\nvar RollbackOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z\" } }] }, \"name\": \"rollback\", \"theme\": \"outlined\" };\nexport default RollbackOutlined;\n","// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport RollbackOutlinedSvg from \"@ant-design/icons-svg/es/asn/RollbackOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar RollbackOutlined = function RollbackOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, Object.assign({}, props, {\n    ref: ref,\n    icon: RollbackOutlinedSvg\n  }));\n};\n\nRollbackOutlined.displayName = 'RollbackOutlined';\nexport default /*#__PURE__*/React.forwardRef(RollbackOutlined);","import styled from 'styled-components/macro'\nimport { palette } from 'styled-theme'\n\nimport { ExternalButtonLink } from '../../Link'\nimport { CoreButton, Label } from '../../UIElements'\n\nexport const Container = styled.div<{ collapsed: boolean }>`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  border: 1px solid ${palette('gray', 0)};\n  background: ${palette('background', 1)};\n\n  height: ${(props) => (props.collapsed ? '42px' : 'auto')};\n\n  overflow: hidden;\n`\n\nexport const Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  padding: 4px 4px 4px 8px;\n`\n\nexport const HeaderRight = styled.div`\n  display: flex;\n  align-items: center;\n\n  button {\n  }\n`\n\nexport const HeaderBtn = styled(CoreButton)<{\n  color: 'primary' | 'success' | 'warning' | 'error'\n}>`\n  margin-left: 0;\n\n  svg {\n    stroke: ${(props) => palette(props.color, 0)};\n  }\n`\n\nexport const TxMonitor = styled.div<{ collapsed: boolean }>`\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  height: ${(props) => (props.collapsed ? '50px' : 'auto')};\n`\n\nexport const ProgressIconWrapper = styled.div<{\n  color: 'primary' | 'success' | 'warning' | 'error'\n}>`\n  padding: 2px;\n  margin-right: 6px;\n\n  svg {\n    color: ${(props) => palette(props.color, 0)};\n  }\n`\n\nexport const Content = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  border-top: 1px solid ${palette('gray', 0)};\n  background: ${palette('background', 3)};\n\n  padding: 4px 4px;\n`\n\nexport const TxInformation = styled.div<{ border?: boolean }>`\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n  padding: 4px;\n\n  border-top: 1px solid ${palette('gray', 0)};\n  border-top-width: ${(props) => (props.border ? '1px' : '0px')};\n`\n\nexport const ExternalLinkWrapper = styled(ExternalButtonLink)<{\n  color: 'primary' | 'success' | 'warning' | 'error'\n}>`\n  margin-left: auto;\n  margin-right: 4px;\n  svg {\n    width: 16px;\n    height: 16px;\n    stroke: ${(props) => palette(props.color, 0)};\n  }\n`\n\nexport const TxTitle = styled(Label)`\n  flex: 1;\n`\n","import { ActionTypeEnum, Transaction } from 'midgard-sdk'\nimport { Asset, Amount } from 'multichain-sdk'\n\nimport { TxTracker, TxTrackerStatus, TxTrackerType } from 'redux/midgard/types'\n\nimport { multichain } from 'services/multichain'\n\nimport { ProgressStatus } from './types'\n\nexport const isSwapType = (txTracker: TxTracker): boolean => {\n  if (\n    txTracker.type === TxTrackerType.Swap ||\n    txTracker.type === TxTrackerType.Mint ||\n    txTracker.type === TxTrackerType.Redeem\n  ) {\n    return true\n  }\n\n  return false\n}\n\nexport const getSwapSendTitle = ({\n  sendAsset,\n  receiveAsset,\n}: {\n  sendAsset: string\n  receiveAsset: string\n}) => {\n  if (\n    Asset.fromAssetString(sendAsset)?.synth &&\n    Asset.fromAssetString(receiveAsset)?.synth === false\n  )\n    return 'Burn'\n  return 'Send'\n}\n\nexport const getSwapReceiveTitle = ({\n  sendAsset,\n  receiveAsset,\n}: {\n  sendAsset: string\n  receiveAsset: string\n}) => {\n  if (\n    Asset.fromAssetString(sendAsset)?.synth === false &&\n    Asset.fromAssetString(receiveAsset)?.synth\n  )\n    return 'Mint'\n  return 'Receive'\n}\n\nexport const getTxTitle = (txTracker: TxTracker): string => {\n  const { type, submitTx } = txTracker\n\n  if (type === TxTrackerType.Approve) {\n    const { inAssets = [] } = submitTx\n    const { asset: approveAsset } = inAssets[0]\n\n    const info = `Approve ${Asset.fromAssetString(approveAsset)?.ticker}`\n\n    return info\n  }\n\n  if (isSwapType(txTracker)) {\n    const { inAssets = [], outAssets = [] } = submitTx\n    const { asset: sendAsset, amount: sendAmount } = inAssets[0]\n    const { asset: receiveAsset, amount: receiveAmount } = outAssets[0]\n\n    const sendAssetName = Asset.fromAssetString(sendAsset)?.name\n    const receiveAssetName = Asset.fromAssetString(receiveAsset)?.name\n    let info = ''\n\n    if (txTracker.type === TxTrackerType.Swap) {\n      info = `Swap ${sendAmount} ${sendAssetName} for ${receiveAmount} ${receiveAssetName}`\n    } else if (txTracker.type === TxTrackerType.Mint) {\n      info = `Mint ${receiveAmount} ${receiveAssetName} from ${sendAmount} ${sendAssetName}`\n    } else if (txTracker.type === TxTrackerType.Redeem) {\n      info = `Redeem ${sendAmount} ${sendAssetName} for ${receiveAmount} ${receiveAssetName}`\n    }\n\n    return info\n  }\n\n  if (type === TxTrackerType.AddLiquidity) {\n    const { inAssets = [], poolAsset = '' } = submitTx\n\n    // sym add liquidity\n    if (inAssets.length === 2) {\n      const { asset: sendAsset1, amount: sendAmount1 } = inAssets[0]\n      const { asset: sendAsset2, amount: sendAmount2 } = inAssets[1]\n\n      const info = `Add ${sendAmount1} ${\n        Asset.fromAssetString(sendAsset1)?.ticker\n      }, ${sendAmount2} ${\n        Asset.fromAssetString(sendAsset2)?.ticker\n      } to ${poolAsset} Pool`\n\n      return info\n    }\n\n    // asym add\n    if (inAssets.length === 1) {\n      const { asset: sendAsset1, amount: sendAmount1 } = inAssets[0]\n\n      const info = `Add ${sendAmount1} ${\n        Asset.fromAssetString(sendAsset1)?.ticker\n      } to ${poolAsset} Pool`\n\n      return info\n    }\n  }\n\n  if (type === TxTrackerType.Withdraw) {\n    const { outAssets = [] } = submitTx\n\n    // sym withdraw\n    if (outAssets.length === 2) {\n      const { asset: withdrawAsset1, amount: withdrawAmount1 } = outAssets[0]\n      const { asset: withdrawAsset2, amount: withdrawAmount2 } = outAssets[1]\n\n      const info = `Withdraw ${withdrawAmount1} ${\n        Asset.fromAssetString(withdrawAsset1)?.ticker\n      }, ${withdrawAmount2} ${Asset.fromAssetString(withdrawAsset2)?.ticker}`\n\n      return info\n    }\n\n    // asym withdraw\n    if (outAssets.length === 1) {\n      const { asset: withdrawAsset1, amount: withdrawAmount1 } = outAssets[0]\n\n      const info = `Withdraw ${withdrawAmount1} ${\n        Asset.fromAssetString(withdrawAsset1)?.ticker\n      }`\n\n      return info\n    }\n  }\n\n  if (type === TxTrackerType.Switch) {\n    const { inAssets = [] } = submitTx\n    const { asset: sendAsset, amount: sendAmount } = inAssets[0]\n\n    const info = `Upgrade ${sendAmount} ${\n      Asset.fromAssetString(sendAsset)?.chain\n    } ${Asset.fromAssetString(sendAsset)?.ticker} for Native RUNE`\n\n    return info\n  }\n\n  return 'Transaction'\n}\n\nexport const getTotalProgressStatus = (\n  txTracker: TxTracker,\n): ProgressStatus => {\n  if (txTracker.status === TxTrackerStatus.Failed) return 'failed'\n\n  if (txTracker.status === TxTrackerStatus.Success) {\n    if (txTracker.refunded) {\n      return 'refunded'\n    }\n\n    return 'success'\n  }\n\n  return 'pending'\n}\n\nexport const getTxColor = (txTracker: TxTracker) => {\n  if (txTracker.status === TxTrackerStatus.Failed) return 'error'\n\n  if (txTracker.status === TxTrackerStatus.Success) {\n    if (txTracker.refunded) {\n      return 'warning'\n    }\n\n    return 'success'\n  }\n\n  return 'primary'\n}\n\nexport const getSwapInTxUrl = (txTracker: TxTracker): string => {\n  const { submitTx } = txTracker\n\n  if (submitTx?.txID) {\n    const { inAssets = [], txID } = submitTx\n    const asset = Asset.fromAssetString(inAssets[0].asset)\n\n    if (asset) {\n      return multichain.getExplorerTxUrl(asset.chain, txID)\n    }\n  }\n\n  return '#'\n}\n\nexport const getApproveTxUrl = (txTracker: TxTracker): string => {\n  const { submitTx } = txTracker\n\n  if (submitTx?.txID) {\n    const { inAssets = [], txID } = submitTx\n    const asset = Asset.fromAssetString(inAssets[0].asset)\n\n    if (asset) {\n      return multichain.getExplorerTxUrl(asset.chain, txID)\n    }\n  }\n\n  return '#'\n}\n\nexport const getSwapOutTxUrl = (txTracker: TxTracker): string => {\n  const { action } = txTracker\n\n  if (action?.out) {\n    const outTx = action.out[0]\n    const asset = Asset.fromAssetString(outTx?.coins?.[0]?.asset)\n\n    if (asset) {\n      // add 0x for eth tx\n      if (asset.chain === 'ETH') {\n        return multichain.getExplorerTxUrl(asset.chain, `0x${outTx?.txID}`)\n      }\n      return multichain.getExplorerTxUrl(asset.chain, outTx?.txID)\n    }\n  }\n\n  return '#'\n}\n\n/**\n * @param txTracker tx tracking data\n * @returns exact received swap data based on the midgard action\n */\nexport const getSwapOutTxData = async (\n  txTracker: TxTracker,\n): Promise<string | null> => {\n  const { action } = txTracker\n\n  if (action?.out) {\n    const outTx = action.out[0]\n    const asset = Asset.fromAssetString(outTx?.coins?.[0]?.asset)\n\n    if (asset) {\n      await asset?.setDecimal()\n\n      const amount = Amount.fromMidgard(outTx?.coins?.[0]?.amount)\n\n      if (action.type === ActionTypeEnum.Swap) {\n        if (txTracker.type === TxTrackerType.Swap) {\n          return `Received ${amount.toSignificant(6)} ${asset.name}`\n        }\n\n        if (txTracker.type === TxTrackerType.Mint) {\n          return `Minted ${amount.toSignificant(6)} ${asset.name}`\n        }\n\n        if (txTracker.type === TxTrackerType.Redeem) {\n          return `Redeemed ${amount.toSignificant(6)} ${asset.name}`\n        }\n      }\n\n      if (action.type === ActionTypeEnum.Refund) {\n        return `Refunded ${amount.toSignificant(6)} ${asset.name}`\n      }\n    }\n  }\n\n  return null\n}\n\nexport const getAddTxUrl = ({\n  asset,\n  txTracker,\n}: {\n  asset: Asset\n  txTracker: TxTracker\n}): string => {\n  const { action, submitTx } = txTracker\n\n  if (action?.in) {\n    const inTx = action.in.find(\n      (inData: Transaction) => inData.coins?.[0].asset === asset?.toString(),\n    )\n\n    if (inTx) {\n      // add 0x for eth tx\n      if (asset.chain === 'ETH') {\n        return multichain.getExplorerTxUrl(asset.chain, `0x${inTx?.txID}`)\n      }\n\n      return multichain.getExplorerTxUrl(asset.chain, inTx?.txID)\n    }\n  } else if (submitTx.addTx) {\n    const { addTx } = submitTx\n\n    if (asset.isRUNE() && addTx.runeTxID) {\n      return multichain.getExplorerTxUrl(asset.chain, addTx.runeTxID)\n    }\n\n    if (addTx.assetTxID) {\n      return multichain.getExplorerTxUrl(asset.chain, addTx.assetTxID)\n    }\n  }\n\n  return '#'\n}\n\nexport const getWithdrawSubmitTxUrl = (txTracker: TxTracker): string => {\n  const { submitTx } = txTracker\n\n  if (submitTx?.txID && submitTx?.withdrawChain) {\n    const { withdrawChain, txID } = submitTx\n\n    return multichain.getExplorerTxUrl(withdrawChain, txID)\n  }\n\n  return '#'\n}\n\nexport const getWithdrawTxUrl = ({\n  asset,\n  txTracker,\n}: {\n  asset: Asset\n  txTracker: TxTracker\n}): string => {\n  const { action } = txTracker\n\n  if (action?.out) {\n    const outTx = action.out.find(\n      (data: Transaction) => data.coins?.[0].asset === asset?.toString(),\n    )\n\n    if (outTx) {\n      // add 0x for eth tx\n      if (asset.chain === 'ETH') {\n        return multichain.getExplorerTxUrl(asset.chain, `0x${outTx?.txID}`)\n      }\n      return multichain.getExplorerTxUrl(asset.chain, outTx?.txID)\n    }\n  }\n\n  return '#'\n}\n","import React, { useMemo } from 'react'\n\nimport { ChevronUp, ChevronDown, ExternalLink } from 'react-feather'\n\nimport {\n  CheckCircleOutlined,\n  LoadingOutlined,\n  RollbackOutlined,\n  CloseCircleOutlined,\n} from '@ant-design/icons'\nimport { Asset } from 'multichain-sdk'\n\nimport { TxTracker, TxTrackerStatus, TxTrackerType } from 'redux/midgard/types'\n\nimport { Label } from '../../UIElements'\nimport * as Styled from './TxMonitor.style'\nimport { ProgressStatus } from './types'\nimport {\n  getApproveTxUrl,\n  getSwapInTxUrl,\n  getSwapOutTxUrl,\n  getSwapOutTxData,\n  getTxTitle,\n  getTotalProgressStatus,\n  getTxColor,\n  getAddTxUrl,\n  getWithdrawTxUrl,\n  getWithdrawSubmitTxUrl,\n  isSwapType,\n  getSwapSendTitle,\n  getSwapReceiveTitle,\n} from './utils'\n\nconst ProgressIcon = ({ status }: { status: ProgressStatus }) => {\n  if (status === 'refunded') {\n    return (\n      <Styled.ProgressIconWrapper color=\"warning\">\n        <RollbackOutlined />\n      </Styled.ProgressIconWrapper>\n    )\n  }\n  if (status === 'success') {\n    return (\n      <Styled.ProgressIconWrapper color=\"success\">\n        <CheckCircleOutlined />\n      </Styled.ProgressIconWrapper>\n    )\n  }\n\n  if (status === 'pending') {\n    return (\n      <Styled.ProgressIconWrapper color=\"primary\">\n        <LoadingOutlined />\n      </Styled.ProgressIconWrapper>\n    )\n  }\n\n  return (\n    <Styled.ProgressIconWrapper color=\"error\">\n      <CloseCircleOutlined />\n    </Styled.ProgressIconWrapper>\n  )\n}\n\nexport const TxMonitor = ({ txTracker }: { txTracker: TxTracker }) => {\n  const [collapsed, setCollapsed] = React.useState(true)\n  const [outTxData, setOutTxData] = React.useState<string>('')\n\n  React.useEffect(() => {\n    const getSwapTxData = async () => {\n      const txOutData = await getSwapOutTxData(txTracker)\n\n      if (txOutData) {\n        setOutTxData(txOutData)\n      }\n    }\n\n    if (txTracker.status === TxTrackerStatus.Success) {\n      if (txTracker.type === TxTrackerType.Swap) {\n        getSwapTxData()\n      }\n    }\n  }, [txTracker])\n\n  const toggle = React.useCallback(() => {\n    setCollapsed(!collapsed)\n  }, [collapsed])\n\n  const title = useMemo(() => getTxTitle(txTracker), [txTracker])\n\n  const totalProgressStatus: ProgressStatus = useMemo(\n    () => getTotalProgressStatus(txTracker),\n    [txTracker],\n  )\n\n  const txColor = useMemo(() => getTxColor(txTracker), [txTracker])\n\n  const renderTxContent = useMemo(() => {\n    const { type, status, submitTx } = txTracker\n\n    if (isSwapType(txTracker)) {\n      const { inAssets = [], outAssets = [] } = submitTx\n      const { asset: sendAsset, amount: sendAmount } = inAssets[0]\n      const { asset: receiveAsset, amount: receiveAmount } = outAssets[0]\n\n      const sendTitle = getSwapSendTitle({\n        sendAsset,\n        receiveAsset,\n      })\n\n      const receiveTitle = getSwapReceiveTitle({\n        sendAsset,\n        receiveAsset,\n      })\n\n      if (status === TxTrackerStatus.Failed) {\n        return (\n          <Styled.TxInformation>\n            <ProgressIcon status=\"failed\" />\n            <Label color=\"error\">\n              {sendTitle} {sendAmount} {Asset.fromAssetString(sendAsset)?.name}{' '}\n              Failed\n            </Label>\n          </Styled.TxInformation>\n        )\n      }\n\n      return (\n        <>\n          <Styled.TxInformation>\n            <ProgressIcon\n              status={\n                status === TxTrackerStatus.Submitting ? 'pending' : 'success'\n              }\n            />\n            <Label color=\"primary\">\n              {sendTitle} {sendAmount} {Asset.fromAssetString(sendAsset)?.name}\n            </Label>\n            {status !== TxTrackerStatus.Submitting && (\n              <Styled.ExternalLinkWrapper\n                link={getSwapInTxUrl(txTracker)}\n                color=\"primary\"\n              >\n                <ExternalLink />\n              </Styled.ExternalLinkWrapper>\n            )}\n          </Styled.TxInformation>\n          {status !== TxTrackerStatus.Submitting && (\n            <Styled.TxInformation border>\n              <ProgressIcon\n                status={\n                  status === TxTrackerStatus.Success ? 'success' : 'pending'\n                }\n              />\n              <Label color=\"primary\">\n                {status === TxTrackerStatus.Pending &&\n                  `${receiveTitle} ${receiveAmount} ${\n                    Asset.fromAssetString(receiveAsset)?.name\n                  }`}\n                {status === TxTrackerStatus.Success && outTxData\n                  ? outTxData\n                  : ''}\n              </Label>\n              {status === TxTrackerStatus.Success && (\n                <Styled.ExternalLinkWrapper\n                  link={getSwapOutTxUrl(txTracker)}\n                  color=\"primary\"\n                >\n                  <ExternalLink />\n                </Styled.ExternalLinkWrapper>\n              )}\n            </Styled.TxInformation>\n          )}\n        </>\n      )\n    }\n\n    if (type === TxTrackerType.AddLiquidity) {\n      const { inAssets = [] } = submitTx\n\n      return (\n        <>\n          {txTracker.refunded && (\n            <Styled.TxInformation key=\"refunded\">\n              <ProgressIcon status=\"refunded\" />\n              <Label color=\"warning\">Refunded</Label>\n            </Styled.TxInformation>\n          )}\n          {!txTracker.refunded &&\n            inAssets.map(({ asset, amount }) => {\n              const assetObj = Asset.fromAssetString(asset)\n              if (!assetObj) return null\n\n              return (\n                <Styled.TxInformation key={asset}>\n                  <ProgressIcon\n                    status={\n                      status !== TxTrackerStatus.Success ? 'pending' : 'success'\n                    }\n                  />\n                  <Label color=\"primary\">\n                    {status !== TxTrackerStatus.Success\n                      ? `Add ${amount} ${assetObj?.ticker}`\n                      : `Added ${amount} ${assetObj?.ticker}`}\n                  </Label>\n                  {status !== TxTrackerStatus.Submitting && (\n                    <Styled.ExternalLinkWrapper\n                      link={getAddTxUrl({ asset: assetObj, txTracker })}\n                      color=\"primary\"\n                    >\n                      <ExternalLink />\n                    </Styled.ExternalLinkWrapper>\n                  )}\n                </Styled.TxInformation>\n              )\n            })}\n        </>\n      )\n    }\n\n    if (type === TxTrackerType.Withdraw) {\n      const { outAssets = [] } = submitTx\n\n      return (\n        <>\n          <Styled.TxInformation>\n            <ProgressIcon\n              status={\n                status === TxTrackerStatus.Submitting ? 'pending' : 'success'\n              }\n            />\n            <Label color=\"primary\">Submit Withdraw TX</Label>\n            {status !== TxTrackerStatus.Submitting && (\n              <Styled.ExternalLinkWrapper\n                link={getWithdrawSubmitTxUrl(txTracker)}\n                color=\"primary\"\n              >\n                <ExternalLink />\n              </Styled.ExternalLinkWrapper>\n            )}\n          </Styled.TxInformation>\n          {txTracker.refunded && (\n            <Styled.TxInformation key=\"refunded\">\n              <ProgressIcon status=\"refunded\" />\n              <Label color=\"warning\">Refunded</Label>\n            </Styled.TxInformation>\n          )}\n          {!txTracker.refunded &&\n            status !== TxTrackerStatus.Submitting &&\n            outAssets.map(({ asset, amount }) => {\n              const assetObj = Asset.fromAssetString(asset)\n              if (!assetObj) return null\n\n              return (\n                <Styled.TxInformation key={asset}>\n                  <ProgressIcon\n                    status={\n                      status !== TxTrackerStatus.Success ? 'pending' : 'success'\n                    }\n                  />\n                  <Label color=\"primary\">\n                    {status !== TxTrackerStatus.Success\n                      ? `Withdraw ${amount} ${assetObj?.ticker}`\n                      : `Withdraw ${amount} ${assetObj?.ticker} Finished`}\n                  </Label>\n                  {status === TxTrackerStatus.Success && (\n                    <Styled.ExternalLinkWrapper\n                      link={getWithdrawTxUrl({ asset: assetObj, txTracker })}\n                      color=\"primary\"\n                    >\n                      <ExternalLink />\n                    </Styled.ExternalLinkWrapper>\n                  )}\n                </Styled.TxInformation>\n              )\n            })}\n        </>\n      )\n    }\n\n    if (type === TxTrackerType.Switch) {\n      const { inAssets = [], outAssets = [] } = submitTx\n      const { asset: sendAsset, amount: sendAmount } = inAssets[0]\n      const { amount: receiveAmount } = outAssets[0]\n\n      return (\n        <>\n          <Styled.TxInformation>\n            <ProgressIcon\n              status={\n                status === TxTrackerStatus.Submitting ? 'pending' : 'success'\n              }\n            />\n            <Label color=\"primary\">\n              Send {sendAmount} {Asset.fromAssetString(sendAsset)?.chain}{' '}\n              {Asset.fromAssetString(sendAsset)?.ticker}\n            </Label>\n            {status !== TxTrackerStatus.Submitting && (\n              <Styled.ExternalLinkWrapper\n                link={getSwapInTxUrl(txTracker)}\n                color=\"primary\"\n              >\n                <ExternalLink />\n              </Styled.ExternalLinkWrapper>\n            )}\n          </Styled.TxInformation>\n          {status !== TxTrackerStatus.Submitting && (\n            <Styled.TxInformation border>\n              <ProgressIcon\n                status={\n                  status !== TxTrackerStatus.Success ? 'pending' : 'success'\n                }\n              />\n              <Label color=\"primary\">\n                {status === TxTrackerStatus.Pending &&\n                  `Receive ${receiveAmount} Native RUNE`}\n                {status === TxTrackerStatus.Success &&\n                  `Received ${receiveAmount} Native RUNE`}\n              </Label>\n              {status === TxTrackerStatus.Success && (\n                <Styled.ExternalLinkWrapper\n                  link={getSwapOutTxUrl(txTracker)}\n                  color=\"primary\"\n                >\n                  <ExternalLink />\n                </Styled.ExternalLinkWrapper>\n              )}\n            </Styled.TxInformation>\n          )}\n        </>\n      )\n    }\n\n    if (type === TxTrackerType.Approve) {\n      const { inAssets = [] } = submitTx\n      const { asset: approveAsset } = inAssets[0]\n\n      if (status === TxTrackerStatus.Failed) {\n        return (\n          <Styled.TxInformation>\n            <ProgressIcon status=\"failed\" />\n            <Label color=\"error\">\n              Approve {Asset.fromAssetString(approveAsset)?.ticker} Failed\n            </Label>\n          </Styled.TxInformation>\n        )\n      }\n\n      return (\n        <>\n          <Styled.TxInformation>\n            <ProgressIcon\n              status={\n                status === TxTrackerStatus.Submitting ? 'pending' : 'success'\n              }\n            />\n            <Label color=\"primary\">\n              {status === TxTrackerStatus.Pending &&\n                `Approve ${Asset.fromAssetString(approveAsset)?.ticker}`}\n              {status === TxTrackerStatus.Success &&\n                `Approved ${Asset.fromAssetString(approveAsset)?.ticker}`}\n            </Label>\n            {status !== TxTrackerStatus.Submitting && (\n              <Styled.ExternalLinkWrapper\n                link={getApproveTxUrl(txTracker)}\n                color=\"primary\"\n              >\n                <ExternalLink />\n              </Styled.ExternalLinkWrapper>\n            )}\n          </Styled.TxInformation>\n        </>\n      )\n    }\n\n    return null\n  }, [txTracker, outTxData])\n\n  return (\n    <Styled.Container collapsed={collapsed}>\n      <Styled.Header>\n        <ProgressIcon status={totalProgressStatus} />\n        <Styled.TxTitle color={txColor}>{title}</Styled.TxTitle>\n        <Styled.HeaderRight>\n          <Styled.HeaderBtn onClick={toggle} color={txColor}>\n            {!collapsed ? <ChevronUp /> : <ChevronDown />}\n          </Styled.HeaderBtn>\n        </Styled.HeaderRight>\n      </Styled.Header>\n      <Styled.Content>{renderTxContent}</Styled.Content>\n    </Styled.Container>\n  )\n}\n","import React, { useMemo } from 'react'\n\nimport { ThemeType } from 'theme'\n\nimport { useApp } from 'redux/app/hooks'\nimport { TxTracker } from 'redux/midgard/types'\n\nimport { useTxManager } from 'hooks/useTxManager'\n\nimport { ReactComponent as TxIconDark } from 'assets/SVG/tx-black.svg'\nimport { ReactComponent as TxIconHidden } from 'assets/SVG/tx-hidden.svg'\nimport { ReactComponent as TxIconLight } from 'assets/SVG/tx-white.svg'\n\nimport { Label } from '../UIElements'\nimport * as Styled from './TxManager.style'\nimport { TxMonitor } from './TxMonitor'\n\nexport const TxManager = () => {\n  const { themeType } = useApp()\n  const {\n    txTrackers,\n    txCollapsed,\n    setTxCollapsed,\n    clearTxTrackers,\n  } = useTxManager()\n\n  const toggleTx = React.useCallback(() => {\n    setTxCollapsed(!txCollapsed)\n  }, [setTxCollapsed, txCollapsed])\n  const hasTxHistory = useMemo(() => txTrackers.length > 0, [txTrackers])\n\n  const renderAllTxTrackers = useMemo(\n    () =>\n      txTrackers.map((tracker: TxTracker) => (\n        <TxMonitor key={tracker.uuid} txTracker={tracker} />\n      )),\n    [txTrackers],\n  )\n\n  const handleClearHistory = React.useCallback(() => {\n    clearTxTrackers()\n  }, [clearTxTrackers])\n\n  return (\n    <Styled.Container collapsed={txCollapsed}>\n      <Styled.StyledButton onClick={toggleTx} round>\n        {txCollapsed ? (\n          themeType === ThemeType.DARK ? (\n            <TxIconHidden />\n          ) : (\n            <TxIconHidden />\n          )\n        ) : themeType === ThemeType.DARK ? (\n          <TxIconLight />\n        ) : (\n          <TxIconDark />\n        )}\n      </Styled.StyledButton>\n      {!txCollapsed && (\n        <>\n          {!hasTxHistory && (\n            <Styled.EmptyContent>\n              <Label>No transactions.</Label>\n            </Styled.EmptyContent>\n          )}\n          {hasTxHistory && (\n            <Styled.Content>\n              {renderAllTxTrackers}\n              <Styled.ClearRow onClick={handleClearHistory}>\n                <Label>Clear History</Label>\n              </Styled.ClearRow>\n            </Styled.Content>\n          )}\n        </>\n      )}\n    </Styled.Container>\n  )\n}\n","import { useMemo } from 'react'\n\nimport { useMidgard } from 'redux/midgard/hooks'\nimport { TxTracker, TxTrackerStatus, TxTrackerType } from 'redux/midgard/types'\n\nimport useInterval from 'hooks/useInterval'\n\n/**\n * 1. send transaction and get txHash\n * 2. poll midgard action API and get \"in\" tx with the same txHash\n * 3. check action status (success, pending)\n * 4. check action type and match with send tx type\n *    (if action type is not \"refund\", action type should be matched to the send type)\n */\n\nconst POLL_TX_INTERVAL = 3000 // poll tx from midgard every 3s\n\nexport const useTxManager = () => {\n  const {\n    pollTx,\n    pollUpgradeTx,\n    pollApprove,\n    txTrackers,\n    txCollapsed,\n    setTxCollapsed,\n    clearTxTrackers,\n  } = useMidgard()\n\n  const pendingTransactions = useMemo(() => {\n    return txTrackers.filter((tracker: TxTracker) => {\n      return tracker.status === TxTrackerStatus.Pending\n    })\n  }, [txTrackers])\n\n  useInterval(\n    () => {\n      pendingTransactions.forEach((tracker: TxTracker) => {\n        if (tracker.type === TxTrackerType.Switch) {\n          pollUpgradeTx(tracker)\n        } else if (tracker.type === TxTrackerType.Approve) {\n          pollApprove(tracker)\n        } else {\n          pollTx(tracker)\n        }\n      })\n    },\n    pendingTransactions.length ? POLL_TX_INTERVAL : null,\n  )\n\n  return {\n    txTrackers,\n    txCollapsed,\n    setTxCollapsed,\n    clearTxTrackers,\n  }\n}\n","import { transparentize } from 'polished'\nimport styled from 'styled-components/macro'\nimport { palette } from 'styled-theme'\n\nimport { media } from 'helpers/style'\n\nimport { Panel } from '../../../components/Panel'\n\nexport const Container = styled(Panel)`\n  display: flex;\n  flex-direction: column;\n\n  align-items: center;\n  justify-content: center;\n\n  background: ${({ theme }) =>\n    `${transparentize(0.4, theme.palette.background[5])}`};\n  width: 90vw;\n  max-width: 500px;\n  margin: 1.61vh auto auto auto;\n  //margin-bottom: 2vh;\n  padding-top: 0px;\n  padding-right: auto;\n  padding-left: auto;\n\n  border-radius: 10px;\n  border: none;\n`\n\nexport const ContentPanel = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 96%;\n\n  padding: 16px 8px 16px 8px;\n\n  ${media.sm`\n    padding: 16px 12px 4px 12px;\n  `}\n`\n\nexport const HeaderContent = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  align-items: center;\n  flex: 1;\n\n  padding: 0 10px;\n`\n\nexport const HeaderMenu = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nexport const HeaderActions = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nexport const PoolDetailLink = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 20px;\n  height: 20px;\n  color: ${palette('text', 0)};\n`\n\nexport const MenuIconWrapper = styled.div<{ selected: boolean }>`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 20px;\n  height: 20px;\n\n  font-weight: ${(props) => (props.selected ? 'bold' : 'normal')};\n\n  svg {\n    color: ${(props) =>\n      props.selected ? palette('primary', 0) : palette('text', 0)};\n  }\n`\n","import React from 'react'\n\n// import { Link } from 'react-router-dom'\n// import { SwapOutlined } from '@ant-design/icons'\nimport { TxManager } from 'components/TxManager'\n\nimport { useGlobalState } from 'redux/hooks'\n\nimport { useMedia } from 'hooks/useMedia'\n\nimport { ContentTitle } from '../../../components'\nimport { Helmet } from '../../../components/Helmet'\nimport { Refresh } from '../../../components/Refresh'\nimport { SettingsOverlay } from '../../../components/SettingsOverlay'\nimport { Asset } from '../../../multichain-sdk'\nimport * as Styled from './PanelView.style'\n\nexport type PanelViewProps = {\n  type: 'swap' | 'pending' | 'savings'\n  meta: string\n  poolAsset: Asset\n  children: React.ReactNode\n}\n\n// const SwapButton = ({ selected }: { selected: boolean }) => (\n//   <CoreButton>\n//     <Tooltip tooltip=\"Swap\" placement=\"top\">\n//       <Styled.MenuIconWrapper selected={selected}>\n//         <SwapOutlined />\n//       </Styled.MenuIconWrapper>\n//     </Tooltip>\n//   </CoreButton>\n// )\n\n// type MenuButtonProps = {\n//   selected: boolean\n//   route: string\n//   children: React.ReactElement\n// }\n\n// const MenuButton: React.FC<MenuButtonProps> = ({\n//   selected,\n//   route,\n//   children,\n// }) => {\n//   if (selected) {\n//     return children\n//   }\n\n//   return <Link to={route}>{children}</Link>\n// }\n\nexport const PanelView = ({\n  // type,\n  meta,\n  // poolAsset,\n  children,\n}: PanelViewProps) => {\n  // const swapRoute = useMemo(() => {\n  //   return getSwapRoute(poolAsset, Asset.RUNE())\n  // }, [poolAsset])\n\n  const { refreshPage } = useGlobalState()\n  // const isGadgetVisible = useMedia('(min-width: 824px)')\n  const isRefreshVisible = useMedia('(min-width: 375px)')\n\n  return (\n    <Styled.Container>\n      <Helmet title={meta} content={meta} />\n      <ContentTitle>\n        <Styled.HeaderContent>\n          <TxManager />\n          <Styled.HeaderMenu>\n            {isRefreshVisible && <Refresh onRefresh={refreshPage} />}\n            {/* <MenuButton selected={type === 'swap'} route={swapRoute}>\n              <SwapButton selected={type === 'swap'} />\n            </MenuButton> */}\n          </Styled.HeaderMenu>\n          <SettingsOverlay />\n        </Styled.HeaderContent>\n      </ContentTitle>\n      <Styled.ContentPanel>{children}</Styled.ContentPanel>\n    </Styled.Container>\n  )\n}\n","import { FancyButton } from 'components'\nimport styled from 'styled-components/macro'\nimport { palette } from 'styled-theme'\n\nexport const ToolContainer = styled.div`\n  display: box;\n  margin-top: 13px;\n  margin-bottom: 3px;\n  height: 40px;\n`\n\nexport const SliderWrapper = styled.div`\n  margin: auto;\n  width: 95%;\n  justify-content: center;\n  align-items: center;\n`\n\nexport const SwitchPair = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex: 1;\n\n  svg {\n    width: 24px;\n    height: 24px;\n    color: ${palette('background', 8)};\n    transform: rotate(90deg);\n  }\n`\n\nexport const ConfirmButtonContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  padding: 0 1%;\n\n  margin-top: 5vh;\n  margin-bottom: 2vh;\n\n  button {\n    flex: 1;\n  }\n`\n\nexport const ConfirmModalContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  padding: 10px;\n`\n\nexport const RecipientAddrWrapper = styled.div`\n  margin-top: 14px;\n`\n\nexport const SwapInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n\n  width: 100%;\n  padding: 8px;\n  margin-top: 14px;\n\n  border: 1px solid ${palette('gray', 0)};\n  border-radius: 4px;\n`\n\nexport const ApproveBtn = styled(FancyButton)`\n  margin-right: 8px;\n`\n","import { Asset, Swap, SynthType } from 'multichain-sdk'\n\nimport { TxTrackerType } from 'redux/midgard/types'\n\nimport { Pair } from './types'\n\nexport const getSwapPair = async (pair: string): Promise<Pair | null> => {\n  if (!pair || pair.split('_').length !== 2) {\n    return null\n  }\n\n  const input = pair.split('_')?.[0]\n  const output = pair.split('_')?.[1]\n\n  if (!input || !output) return null\n\n  const inputAsset = Asset.decodeFromURL(input)\n  const outputAsset = Asset.decodeFromURL(output)\n\n  if (!inputAsset || !outputAsset) return null\n\n  await inputAsset.setDecimal()\n  await outputAsset.setDecimal()\n\n  return {\n    inputAsset,\n    outputAsset,\n  }\n}\n\nexport const getSwapTrackerType = (swap: Swap): TxTrackerType => {\n  if (swap.inputAsset.synth || swap.outputAsset.synth) {\n    if (swap.synthType === SynthType.MINT) {\n      return TxTrackerType.Mint\n    }\n    if (swap.synthType === SynthType.REDEEM) {\n      return TxTrackerType.Redeem\n    }\n  }\n\n  return TxTrackerType.Swap\n}\n","import React, { useEffect, useMemo, useState, useCallback } from 'react'\n\nimport { useHistory, useParams } from 'react-router'\n\nimport { SwapOutlined } from '@ant-design/icons'\nimport { Chain } from '@xchainjs/xchain-util'\nimport {\n  AddressSelectCard,\n  AssetInputCard,\n  Slider,\n  ConfirmModal,\n  Information,\n  Notification,\n  IconButton,\n  FancyButton,\n  ProtocolSelect,\n} from 'components'\nimport {\n  getInputAssets,\n  Amount,\n  Asset,\n  AssetAmount,\n  getWalletAddressByChain,\n  Swap,\n  Percent,\n  Price,\n  getAssetBalance,\n  SupportedChain,\n  hasWalletConnected,\n  hasConnectedWallet,\n  AmountType,\n} from 'multichain-sdk'\nimport styled from 'styled-components'\nimport { palette } from 'styled-theme'\n\nimport { useApp } from 'redux/app/hooks'\nimport { useMidgard } from 'redux/midgard/hooks'\nimport { TxTrackerStatus, TxTrackerType } from 'redux/midgard/types'\nimport { useWallet } from 'redux/wallet/hooks'\n\nimport { useApprove } from 'hooks/useApprove'\nimport { useBalance } from 'hooks/useBalance'\nimport { useMimir } from 'hooks/useMimir'\nimport { useNetworkFee } from 'hooks/useNetworkFee'\nimport { useTxTracker } from 'hooks/useTxTracker'\n\nimport { multichain } from 'services/multichain'\n\nimport { translateErrorMsg } from 'helpers/error'\nimport { truncateAddress } from 'helpers/string'\n\nimport { IS_SYNTH_ACTIVE, IS_TESTNET } from 'settings/config'\nimport { getSwapRoute } from 'settings/constants'\nimport {\n  TX_FEE_TOOLTIP_LABEL,\n  SLIP_TOOLTIP_LABEL,\n  // ESTIMATED_TIME_LABEL,\n  MIN_RECEIVED_LABEL,\n} from 'settings/constants/label'\n\nimport { PanelView } from './PanelView'\nimport * as Styled from './Swap.style'\nimport { Pair } from './types'\nimport { getSwapPair, getSwapTrackerType } from './utils'\n\nconst SwapView = () => {\n  const { pair } = useParams<{ pair: string }>()\n  const [swapPair, setSwapPair] = useState<Pair>()\n\n  useEffect(() => {\n    const getPair = async () => {\n      const swapPairData = await getSwapPair(pair)\n\n      if (swapPairData) {\n        setSwapPair(swapPairData)\n      }\n    }\n\n    getPair()\n  }, [pair])\n\n  if (swapPair) {\n    const { inputAsset, outputAsset } = swapPair\n    return <SwapPage inputAsset={inputAsset} outputAsset={outputAsset} />\n  }\n\n  return null\n}\nconst FromCard = styled.div`\n  background-image: linear-gradient(\n    120deg,\n    ${palette('background', 6)},\n    ${palette('background', 7)}\n  );\n  border-radius: 4px;\n  height: 145px;\n`\n\nconst ToCard = styled.div`\n  background-image: linear-gradient(\n    120deg,\n    ${palette('background', 6)},\n    ${palette('background', 7)}\n  );\n  border-radius: 4px;\n  height: 145px;\n`\n\nconst StyledSliderWrapper = styled.div`\n  width: 90%;\n  margin: auto;\n`\n\nconst SwapPage = ({ inputAsset, outputAsset }: Pair) => {\n  const history = useHistory()\n  const { wallet, getMaxBalance } = useBalance()\n  const { pools: allPools, poolLoading, inboundData } = useMidgard()\n  const { slippageTolerance, affiliates } = useApp()\n  const { haltedChains } = useMimir()\n  const { isWalletLoading, setIsConnectWalletModalOpen } = useWallet()\n\n  const isConnected = useMemo(() => hasConnectedWallet(wallet), [wallet])\n\n  const handleClickWalletBtn = useCallback(() => {\n    if (!isConnected && !isWalletLoading) {\n      setIsConnectWalletModalOpen(true)\n    }\n  }, [isConnected, isWalletLoading, setIsConnectWalletModalOpen])\n\n  const filteredAffiliates = useMemo(\n    () =>\n      affiliates?.filter((affiliate) =>\n        multichain.validateAddress({\n          chain: Chain.THORChain,\n          address: affiliate,\n        }),\n      ),\n    [affiliates],\n  )\n  const { submitTransaction, pollTransaction, setTxFailed } = useTxTracker()\n  const { isApproved, assetApproveStatus } = useApprove(inputAsset, !!wallet)\n  const isTradingHalted: boolean = useMemo(() => {\n    const inTradeInboundData = inboundData.find(\n      (data) => data.chain === inputAsset.chain,\n    )\n    const outTradeInboundData = inboundData.find(\n      (data) => data.chain === outputAsset.chain,\n    )\n\n    const inTradeMimirStatus =\n      haltedChains[inputAsset.L1Chain as SupportedChain]\n    const outTradeMimirStatus =\n      haltedChains[outputAsset.L1Chain as SupportedChain]\n    return (\n      (inTradeInboundData?.halted ?? false) ||\n      (outTradeInboundData?.halted ?? false) ||\n      inTradeMimirStatus ||\n      outTradeMimirStatus\n    )\n  }, [inboundData, haltedChains, inputAsset, outputAsset])\n\n  const { inboundFee, outboundFee, totalFee } = useNetworkFee({\n    inputAsset,\n    outputAsset,\n  })\n\n  const walletConnected = useMemo(\n    () => hasWalletConnected({ wallet, inputAssets: [inputAsset] }),\n    [wallet, inputAsset],\n  )\n\n  const pools = useMemo(\n    () => allPools.filter((data) => data.detail.status === 'available'),\n    [allPools],\n  )\n  const poolAssets = useMemo(() => {\n    const assets = pools.map((pool) => pool.asset)\n    assets.push(Asset.RUNE())\n\n    return assets\n  }, [pools])\n\n  const synthAssets = useMemo(() => {\n    return pools.map((pool) => {\n      const { asset } = pool\n      const synthAsset = new Asset(asset.chain, asset.symbol, true)\n      synthAsset.synth = true\n\n      return synthAsset\n    })\n  }, [pools])\n\n  const outputAssets = useMemo(() => {\n    if (IS_SYNTH_ACTIVE) {\n      return [...poolAssets, ...synthAssets]\n    }\n    return poolAssets\n  }, [poolAssets, synthAssets])\n\n  const inputAssets = useMemo(\n    () =>\n      hasConnectedWallet(wallet)\n        ? getInputAssets({ wallet, pools })\n        : outputAssets,\n    [wallet, pools, outputAssets],\n  )\n\n  const [inputAmount, setInputAmount] = useState<Amount>(\n    Amount.fromAssetAmount(0, 8),\n  )\n  const [percent, setPercent] = useState(0)\n  const [chainRecipient, setChainRecipient] = useState('')\n  const [recipient, setRecipient] = useState('')\n  const [visibleConfirmModal, setVisibleConfirmModal] = useState(false)\n  const [visibleApproveModal, setVisibleApproveModal] = useState(false)\n  const affiliateFee = useMemo(\n    () =>\n      !inputAsset.isLTC() && !inputAsset.isBTC()\n        ? inputAmount.div(100)\n        : new Amount(0, AmountType.ASSET_AMOUNT, 4),\n    [inputAmount, inputAsset],\n  )\n  const totalFeePlusAffiliate = useMemo(\n    () =>\n      !inputAsset.isLTC() && !inputAsset.isBTC()\n        ? totalFee\n            .add(new AssetAmount(inputAsset, affiliateFee))\n            .totalPriceIn(Asset.USD(), pools)\n        : totalFee,\n    [affiliateFee, inputAsset, pools, totalFee],\n  )\n  const isValidAddress = useMemo(\n    () =>\n      multichain.validateAddress({\n        chain: outputAsset.L1Chain,\n        address: recipient,\n      }),\n    [outputAsset, recipient],\n  )\n\n  const swap: Swap | null = useMemo(() => {\n    if (poolLoading) return null\n\n    try {\n      const inputAssetAmount = new AssetAmount(inputAsset, inputAmount)\n\n      const inboundFeeInInputAsset = new AssetAmount(\n        inputAsset,\n        Amount.fromAssetAmount(\n          inboundFee.totalPriceIn(inputAsset, pools).price,\n          inputAsset.decimal,\n        ),\n      )\n\n      const outboundFeeInOutputAsset = outboundFee\n        ? new AssetAmount(\n            outputAsset,\n            Amount.fromAssetAmount(\n              outboundFee.totalPriceIn(outputAsset, pools).price,\n              outputAsset.decimal,\n            ),\n          )\n        : new AssetAmount(\n            outputAsset,\n            Amount.fromAssetAmount(0, outputAsset.decimal),\n          )\n\n      return new Swap({\n        inputAsset,\n        outputAsset,\n        pools,\n        amount: inputAssetAmount,\n        slip: slippageTolerance,\n        fee: {\n          inboundFee: inboundFeeInInputAsset,\n          outboundFee: outboundFeeInOutputAsset,\n        },\n      })\n    } catch (error) {\n      console.log(error)\n      return null\n    }\n  }, [\n    inputAsset,\n    outputAsset,\n    pools,\n    inputAmount,\n    slippageTolerance,\n    poolLoading,\n    inboundFee,\n    outboundFee,\n  ])\n\n  const outputAmount: Amount = useMemo(() => {\n    if (swap) {\n      return swap.outputAmountAfterFee.amount\n    }\n\n    return Amount.fromAssetAmount(0, 8)\n  }, [swap])\n\n  const slipPercent: Percent = useMemo(\n    () => (swap ? swap.slip : new Percent(0)),\n    [swap],\n  )\n\n  const minReceive: Amount = useMemo(\n    () => (swap ? swap.minOutputAmount : Amount.fromAssetAmount(0, 8)),\n    [swap],\n  )\n\n  const inputAssetPriceInUSD = useMemo(\n    () =>\n      new Price({\n        baseAsset: inputAsset,\n        pools,\n        priceAmount: inputAmount,\n      }),\n    [inputAsset, inputAmount, pools],\n  )\n\n  const outputAssetPriceInUSD = useMemo(\n    () =>\n      new Price({\n        baseAsset: outputAsset,\n        pools,\n        priceAmount: outputAmount,\n      }),\n    [outputAsset, outputAmount, pools],\n  )\n\n  useEffect(() => {\n    if (wallet) {\n      const address = getWalletAddressByChain(wallet, outputAsset.L1Chain)\n      setRecipient(address || '')\n      setChainRecipient(address || '')\n    }\n  }, [wallet, outputAsset])\n\n  const maxInputBalance: Amount = useMemo(() => getMaxBalance(inputAsset), [\n    inputAsset,\n    getMaxBalance,\n  ])\n\n  const inputAssetBalance: Amount = useMemo(() => {\n    if (!wallet) {\n      // allow max amount for emulation if wallet is not connected\n      return Amount.fromAssetAmount(10 ** 3, 8)\n    }\n\n    return getAssetBalance(inputAsset, wallet)\n  }, [inputAsset, wallet])\n\n  const handleSelectInputAsset = useCallback(\n    (input: Asset) => {\n      history.push(getSwapRoute(input, outputAsset))\n    },\n    [history, outputAsset],\n  )\n\n  const handleSelectOutputAsset = useCallback(\n    (output: Asset) => {\n      history.push(getSwapRoute(inputAsset, output))\n    },\n    [history, inputAsset],\n  )\n\n  const handleSwitchPair = useCallback(() => {\n    history.push(getSwapRoute(outputAsset, inputAsset))\n  }, [history, inputAsset, outputAsset])\n\n  const handleChangeInputAmount = useCallback(\n    (amount: Amount) => {\n      if (amount.gt(maxInputBalance)) {\n        setInputAmount(maxInputBalance)\n        setPercent(100)\n      } else {\n        setInputAmount(amount)\n        setPercent(amount.div(maxInputBalance).mul(100).assetAmount.toNumber())\n      }\n    },\n    [maxInputBalance],\n  )\n\n  const handleChangePercent = useCallback(\n    (p: number) => {\n      setPercent(p)\n      const newAmount = maxInputBalance.mul(p).div(100)\n      setInputAmount(newAmount)\n    },\n    [maxInputBalance],\n  )\n\n  const handleSelectMax = useCallback(() => {\n    handleChangePercent(100)\n  }, [handleChangePercent])\n\n  const handleConfirm = useCallback(async () => {\n    setVisibleConfirmModal(false)\n\n    if (wallet && swap) {\n      const trackerType = getSwapTrackerType(swap)\n\n      // register to tx tracker\n      const trackId = submitTransaction({\n        type: trackerType,\n        submitTx: {\n          inAssets: [\n            {\n              asset: swap.inputAsset.toString(),\n              amount: swap.inputAmount.toSignificant(6),\n            },\n          ],\n          outAssets: [\n            {\n              asset: swap.outputAsset.toString(),\n              amount: swap.outputAmountAfterFee.toSignificant(6),\n            },\n          ],\n        },\n      })\n\n      try {\n        const txHash = await multichain.swap(\n          swap,\n          recipient,\n          filteredAffiliates,\n        )\n\n        // start polling\n        pollTransaction({\n          type: trackerType,\n          uuid: trackId,\n          submitTx: {\n            inAssets: [\n              {\n                asset: swap.inputAsset.toString(),\n                amount: swap.inputAmount.toSignificant(6),\n              },\n            ],\n            outAssets: [\n              {\n                asset: swap.outputAsset.toString(),\n                amount: swap.outputAmountAfterFee.toSignificant(6),\n              },\n            ],\n            txID: txHash,\n          },\n        })\n      } catch (error: any) {\n        setTxFailed(trackId)\n\n        // handle better error message\n        const description = translateErrorMsg(error?.toString())\n\n        Notification({\n          type: 'error',\n          message: 'Submit Transaction Failed.',\n          description,\n          duration: 20,\n        })\n        console.log(error)\n      }\n    }\n  }, [\n    wallet,\n    swap,\n    recipient,\n    filteredAffiliates,\n    submitTransaction,\n    pollTransaction,\n    setTxFailed,\n  ])\n\n  const handleCancel = useCallback(() => {\n    setVisibleConfirmModal(false)\n  }, [])\n\n  const handleConfirmApprove = useCallback(async () => {\n    setVisibleApproveModal(false)\n\n    if (wallet) {\n      // register to tx tracker\n      const trackId = submitTransaction({\n        type: TxTrackerType.Approve,\n        submitTx: {\n          inAssets: [\n            {\n              asset: inputAsset.toString(),\n              amount: '0', // not needed for approve tx\n            },\n          ],\n        },\n      })\n\n      try {\n        const txHash = await multichain.approveAsset(inputAsset)\n        console.log('approve txhash', txHash)\n        if (txHash) {\n          // start polling\n          pollTransaction({\n            type: TxTrackerType.Swap,\n            uuid: trackId,\n            submitTx: {\n              inAssets: [\n                {\n                  asset: inputAsset.toString(),\n                  amount: '0', // not needed for approve tx\n                },\n              ],\n              txID: txHash,\n            },\n          })\n        }\n      } catch (error) {\n        setTxFailed(trackId)\n        Notification({\n          type: 'open',\n          message: 'Approve Failed.',\n          duration: 20,\n        })\n        console.log(error)\n      }\n    }\n  }, [inputAsset, wallet, setTxFailed, submitTransaction, pollTransaction])\n\n  const handleSwap = useCallback(() => {\n    if (walletConnected && swap) {\n      if (swap.hasInSufficientFee) {\n        Notification({\n          type: 'info',\n          message: 'Swap Insufficient Fee',\n          description: 'Input amount is not enough to cover the fee',\n        })\n        return\n      }\n\n      if (!isValidAddress) {\n        Notification({\n          type: 'error',\n          message: 'Invalid Recipient Address',\n          description: 'Recipient address should be a valid address.',\n        })\n        return\n      }\n\n      setVisibleConfirmModal(true)\n    } else {\n      Notification({\n        type: 'info',\n        message: 'Wallet Not Found',\n        description: 'Please connect wallet',\n      })\n    }\n  }, [isValidAddress, walletConnected, swap])\n\n  const handleApprove = useCallback(() => {\n    if (walletConnected && swap) {\n      setVisibleApproveModal(true)\n    } else {\n      Notification({\n        type: 'info',\n        message: 'Wallet Not Found',\n        description: 'Please connect wallet',\n      })\n    }\n  }, [walletConnected, swap])\n\n  const isValidSwap = useMemo(() => {\n    if (isTradingHalted && !IS_TESTNET) {\n      return {\n        valid: false,\n        msg: 'Swap not available',\n      }\n    }\n\n    return swap?.isValid() ?? { valid: false }\n  }, [swap, isTradingHalted])\n\n  const isValidSlip = useMemo(() => swap?.isSlipValid() ?? true, [swap])\n\n  const btnLabel = useMemo(() => {\n    if (isValidSwap.valid || inputAmount.eq(0)) {\n      if (!isConnected) {\n        return 'Connect Wallet'\n      }\n      if (inputAsset.synth && outputAsset.synth) {\n        return 'Swap'\n      }\n      if (inputAsset.synth) {\n        return 'Redeem'\n      }\n      if (outputAsset.synth) {\n        return 'Mint'\n      }\n      return 'Swap'\n    }\n\n    return isValidSwap?.msg ?? 'Swap'\n  }, [\n    isValidSwap.valid,\n    isValidSwap?.msg,\n    inputAmount,\n    isConnected,\n    inputAsset.synth,\n    outputAsset.synth,\n  ])\n\n  // const estimatedTime = useMemo(\n  //   () =>\n  //     getEstimatedTxTime({\n  //       chain: inputAsset.L1Chain as SupportedChain,\n  //       amount: inputAmount,\n  //     }),\n  //   [inputAsset, inputAmount],\n  // )\n\n  const renderConfirmModalContent = useMemo(() => {\n    return (\n      <Styled.ConfirmModalContent>\n        <Information\n          title=\"Send\"\n          description={`${inputAmount.toSignificant(\n            6,\n          )} ${inputAsset.name.toUpperCase()}`}\n        />\n        <Information\n          title=\"Recipient\"\n          description={`${outputAmount.toSignificant(\n            6,\n          )} ${outputAsset.name.toUpperCase()}`}\n        />\n        <br />\n        <Information\n          title=\"Recipient Address\"\n          description={truncateAddress(recipient)}\n          error={!isValidAddress}\n        />\n        <br />\n        <Information\n          title=\"Slip\"\n          description={slipPercent.toFixed(3)}\n          error={!isValidSlip}\n          tooltip={SLIP_TOOLTIP_LABEL}\n        />\n        <Information\n          title=\"Min Received\"\n          description={`${minReceive.toSignificant(\n            6,\n          )} ${outputAsset.name.toUpperCase()}`}\n          tooltip={MIN_RECEIVED_LABEL}\n        />\n        <Information\n          title=\"Transaction Fee\"\n          description={inboundFee.toCurrencyFormat()}\n          tooltip={TX_FEE_TOOLTIP_LABEL}\n        />\n        <Information\n          title=\"Affiliate Fee\"\n          description={`${\n            affiliateFee.toSignificant(4) ?? ''\n          } ${inputAsset.name.toUpperCase()}`}\n          tooltip={\n            inputAsset.isBTC() || inputAsset.isLTC()\n              ? 'There is currenly no affiliate fee for BTC or LTC transactions.'\n              : 'Transaction fee of 1% used to pay affiliates and fund Crosschain.Quest development.'\n          }\n        />\n        <Information\n          title=\"Network Fee\"\n          description={outboundFee?.toCurrencyFormat() ?? ''}\n          tooltip=\"Thorchain network fee used to pay outbound transaction\"\n        />\n        <Information\n          title=\"Total\"\n          description={totalFeePlusAffiliate.toCurrencyFormat(2) ?? ''}\n          tooltip=\"Sum of both transaction fee and network fee\"\n        />\n        {/* <Information\n          title=\"Total Fee\"\n          description={totalFeeInUSD.toCurrencyFormat(4) ?? ''}\n          tooltip=\"Sum of both transaction fee and network fee\"\n        /> */}\n        {/* <Information\n          title=\"Estimated Time\"\n          description={estimatedTime}\n          tooltip={ESTIMATED_TIME_LABEL}\n        /> */}\n      </Styled.ConfirmModalContent>\n    )\n  }, [\n    inputAmount,\n    outputAmount,\n    inputAsset,\n    outputAsset,\n    recipient,\n    slipPercent,\n    isValidSlip,\n    minReceive,\n    inboundFee,\n    outboundFee,\n    // totalFeeInUSD,\n    // estimatedTime,\n    affiliateFee,\n    isValidAddress,\n    totalFeePlusAffiliate,\n  ])\n\n  const renderApproveModal = useMemo(() => {\n    return (\n      <Styled.ConfirmModalContent>\n        <Information\n          title={`Approve ${inputAsset.name.toUpperCase()}`}\n          description=\"\"\n        />\n        <Information\n          title=\"Transaction Fee\"\n          description={inboundFee.toCurrencyFormat()}\n          tooltip={TX_FEE_TOOLTIP_LABEL}\n        />\n      </Styled.ConfirmModalContent>\n    )\n  }, [inboundFee, inputAsset])\n\n  const title = useMemo(\n    () => `Swap ${inputAsset.name} >> ${outputAsset.name}`,\n    [inputAsset, outputAsset],\n  )\n  const poolAsset = useMemo(\n    () => (inputAsset.isRUNE() ? outputAsset : inputAsset),\n    [inputAsset, outputAsset],\n  )\n\n  return (\n    <PanelView meta={title} poolAsset={poolAsset} type=\"swap\">\n      <FromCard>\n        <AssetInputCard\n          title=\"from\"\n          asset={inputAsset}\n          assets={inputAssets}\n          amount={inputAmount}\n          balance={inputAssetBalance}\n          onChange={handleChangeInputAmount}\n          onSelect={handleSelectInputAsset}\n          onMax={handleSelectMax}\n          usdPrice={inputAssetPriceInUSD}\n          wallet={wallet || undefined}\n        />\n        <StyledSliderWrapper>\n          <Slider value={percent} onChange={handleChangePercent} withLabel />\n        </StyledSliderWrapper>\n      </FromCard>\n      <Styled.ToolContainer>\n        <Styled.SwitchPair>\n          <IconButton onClick={handleSwitchPair}>\n            <SwapOutlined />\n          </IconButton>\n        </Styled.SwitchPair>\n      </Styled.ToolContainer>\n      <ToCard>\n        <AssetInputCard\n          title=\"to\"\n          asset={outputAsset}\n          assets={outputAssets}\n          amount={outputAmount}\n          onSelect={handleSelectOutputAsset}\n          inputProps={{ disabled: true }}\n          usdPrice={outputAssetPriceInUSD}\n          wallet={wallet || undefined}\n        />\n        <Styled.RecipientAddrWrapper>\n          <AddressSelectCard\n            title=\"address\"\n            address={recipient}\n            chain={outputAsset.L1Chain}\n            chainAddr={chainRecipient}\n            onAddressChange={setRecipient}\n          />\n        </Styled.RecipientAddrWrapper>\n      </ToCard>\n      <Styled.SwapInfo>\n        {/* <PriceRate\n          price={swap?.price}\n          inputAsset={swap?.inputAsset}\n          outputAsset={swap?.outputAsset}\n        />\n        <Information\n          title=\"Slip\"\n          description={slipPercent.toFixed(3)}\n          error={!isValidSlip}\n          tooltip={SLIP_TOOLTIP_LABEL}\n        />\n        <Information\n          title=\"Min Received\"\n          description={`${minReceive.toSignificant(\n            6,\n          )} ${outputAsset.name.toUpperCase()}`}\n          tooltip={MIN_RECEIVED_LABEL}\n        />\n\n        <br />\n        <Information\n          title=\"Transaction Fee\"\n          description={inboundFee.toCurrencyFormat()}\n          tooltip={TX_FEE_TOOLTIP_LABEL}\n        />\n        <Information\n          title=\"Network Fee\"\n          description={outboundFee?.toCurrencyFormat() ?? ''}\n          tooltip=\"Estimated network fee used to pay outbound transaction\"\n        /> */}\n        <Information\n          title=\"Total Fee\"\n          description={totalFeePlusAffiliate?.toCurrencyFormat(2) ?? ''}\n          tooltip=\"Sum of both transaction fee and network fee\"\n        />\n      </Styled.SwapInfo>\n      <ProtocolSelect />\n      {isApproved !== null && wallet && (\n        <Styled.ConfirmButtonContainer>\n          {!isApproved && (\n            <Styled.ApproveBtn\n              onClick={handleApprove}\n              error={!isValidSwap.valid}\n              disabled={\n                assetApproveStatus === TxTrackerStatus.Pending ||\n                assetApproveStatus === TxTrackerStatus.Submitting\n              }\n              loading={\n                assetApproveStatus === TxTrackerStatus.Pending ||\n                assetApproveStatus === TxTrackerStatus.Submitting\n              }\n            >\n              Approve\n            </Styled.ApproveBtn>\n          )}\n          {isConnected ? (\n            <FancyButton\n              disabled={!isApproved}\n              onClick={handleSwap}\n              error={!isValidSwap.valid}\n            >\n              {btnLabel}\n            </FancyButton>\n          ) : (\n            <FancyButton onClick={handleClickWalletBtn}>{btnLabel}</FancyButton>\n          )}\n        </Styled.ConfirmButtonContainer>\n      )}\n      {!wallet && (\n        <Styled.ConfirmButtonContainer>\n          <FancyButton onClick={handleSwap} error={!isValidSwap.valid}>\n            {btnLabel}\n          </FancyButton>\n        </Styled.ConfirmButtonContainer>\n      )}\n      <ConfirmModal\n        visible={visibleConfirmModal}\n        onOk={handleConfirm}\n        onCancel={handleCancel}\n        inputAssets={[inputAsset]}\n      >\n        {renderConfirmModalContent}\n      </ConfirmModal>\n      <ConfirmModal\n        visible={visibleApproveModal}\n        onOk={handleConfirmApprove}\n        onCancel={() => setVisibleApproveModal(false)}\n        inputAssets={[inputAsset]}\n      >\n        {renderApproveModal}\n      </ConfirmModal>\n    </PanelView>\n  )\n}\n\nexport default SwapView\n","// https://docs.thorchain.org/how-it-works/governance#mimir\n\nimport { useMemo } from 'react'\n\nimport { Amount, SupportedChain } from 'multichain-sdk'\n\nimport { useMidgard } from 'redux/midgard/hooks'\n\nexport const useMimir = () => {\n  const { networkData, mimir } = useMidgard()\n  const maxLiquidityRuneMimir = mimir?.MAXIMUMLIQUIDITYRUNE\n  const haltETHTrading = mimir?.HALTETHTRADING !== 0\n  const haltBTCTrading = mimir?.HALTBTCTRADING !== 0\n  const haltLTCTrading = mimir?.HALTLTCTRADING !== 0\n  const haltTrading = mimir?.HALTTRADING !== 0\n  const haltTHORChain = mimir?.HALTTHORCHAIN !== 0\n  const haltDOGETrading = mimir?.HALTTHORCHAIN !== 0\n  const haltBCHTrading = mimir?.HALTBCHTRADING !== 0\n  const haltBNBTrading = mimir?.HALTBNBTRADING !== 0\n  const haltETHChain = mimir?.HALTETHCHAIN !== 0\n  const haltBTCChain = mimir?.HALTBTCCHAIN !== 0\n  const haltLTCChain = mimir?.HALTDOGECHAIN !== 0\n  const haltDOGEChain = mimir?.HALTDOGECHAIN !== 0\n  const haltBCHChain = mimir?.HALTBCHCHAIN !== 0\n  const haltBNBChain = mimir?.HALTBNBCHAIN !== 0\n  const haltedChains = useMemo(\n    (): Record<SupportedChain, boolean> => ({\n      THOR: haltTHORChain || haltTrading,\n      ETH: haltETHTrading || haltETHChain || haltTrading,\n      BTC: haltBTCTrading || haltBTCChain || haltTrading,\n      LTC: haltLTCTrading || haltLTCChain || haltTrading,\n      BCH: haltBCHTrading || haltBCHChain || haltTrading,\n      BNB: haltBNBTrading || haltBNBChain || haltTrading,\n      DOGE: haltDOGEChain || haltDOGETrading || haltTrading,\n      TERRA: false, // TODO: update this to actually use mimir\n    }),\n    [\n      haltTrading,\n      haltTHORChain,\n      haltETHChain,\n      haltLTCChain,\n      haltBCHChain,\n      haltBNBChain,\n      haltBTCChain,\n      haltDOGEChain,\n      haltETHTrading,\n      haltLTCTrading,\n      haltBCHTrading,\n      haltBNBTrading,\n      haltBTCTrading,\n      haltDOGETrading,\n    ],\n  )\n\n  const maxLiquidityRune = Amount.fromMidgard(maxLiquidityRuneMimir)\n  const totalPooledRune = Amount.fromMidgard(networkData?.totalPooledRune)\n\n  const isFundsCapReached: boolean = useMemo(() => {\n    if (!maxLiquidityRuneMimir) return false\n\n    // totalPooledRune >= maxLiquidityRune - 100k RUNE\n    return maxLiquidityRune\n      .sub(Amount.fromMidgard(100000 * 10 ** 8))\n      .lte(totalPooledRune)\n  }, [totalPooledRune, maxLiquidityRune, maxLiquidityRuneMimir])\n\n  const capPercent = useMemo(() => {\n    if (!maxLiquidityRuneMimir) return null\n\n    const poolLimit = maxLiquidityRune.sub(Amount.fromMidgard(100000 * 10 ** 8))\n\n    return `${totalPooledRune.div(poolLimit).mul(100).toFixed(1)}%`\n  }, [totalPooledRune, maxLiquidityRune, maxLiquidityRuneMimir])\n\n  return {\n    haltedChains,\n    totalPooledRune,\n    maxLiquidityRune,\n    isFundsCapReached,\n    capPercent,\n  }\n}\n","import { useEffect, useState, useMemo } from 'react'\n\nimport { Asset, hasConnectedWallet } from 'multichain-sdk'\n\nimport { useMidgard } from 'redux/midgard/hooks'\nimport { TxTrackerStatus } from 'redux/midgard/types'\nimport { useWallet } from 'redux/wallet/hooks'\n\nimport { multichain } from 'services/multichain'\n\nexport const useApprove = (asset: Asset, hasWallet = true) => {\n  const { approveStatus } = useMidgard()\n  const { wallet } = useWallet()\n  const [isApproved, setApproved] = useState<boolean | null>(\n    hasWallet ? null : true,\n  )\n\n  const isWalletConnected = useMemo(() => hasConnectedWallet(wallet), [wallet])\n\n  useEffect(() => {\n    if (!hasWallet || !isWalletConnected) {\n      setApproved(true)\n      return\n    }\n\n    const checkApproved = async () => {\n      if (approveStatus?.[asset.toString()] === TxTrackerStatus.Success) {\n        setApproved(true)\n      }\n      const approved = await multichain.isAssetApproved(asset)\n      setApproved(approved)\n    }\n\n    checkApproved()\n  }, [asset, approveStatus, hasWallet, isWalletConnected])\n\n  const assetApproveStatus = useMemo(() => approveStatus?.[asset.toString()], [\n    approveStatus,\n    asset,\n  ])\n\n  return {\n    assetApproveStatus,\n    isApproved,\n  }\n}\n","const ORIGIN_UTXO_ERROR_MSG = 'No utxos to send'\nconst PROCESSED_UTXO_ERROR_MSG =\n  'Please wait a bit until UTXOs are confirmed and Try again.'\n\nexport const translateErrorMsg = (msg: string) => {\n  if (msg.includes(ORIGIN_UTXO_ERROR_MSG)) {\n    return PROCESSED_UTXO_ERROR_MSG\n  }\n\n  return msg\n}\n","import Swap from './Swap'\n\nexport default Swap\n"],"sourceRoot":""}